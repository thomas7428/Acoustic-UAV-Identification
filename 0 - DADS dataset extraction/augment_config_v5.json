{
  "version": "5.0-large-detection",
  "meta": {
    "author": "auto-generated",
    "purpose": "Generate a large (30k) augmentation dataset to train robust drone detectors that work where human hearing fails. Mixes cover 0.1–500m, varied SNRs, multi-drone scenes, trajectories, occlusions, and realistic MEMS/ADC chains.",
    "design_principles": [
      "Cover wide distance range (near→far up to 500m) with alpha=1.0 distance attenuation",
      "Include fixed-SNR scenarios (very low SNR) so models learn to detect below human threshold",
      "Simulate microphone+ADC artifacts via hardware chains (mems, hardware_noise, adc_artifacts, occlusion), applied deterministically via RNG",
      "Apply motion effects (doppler), pitch/time-stretch variations, and reverbs to simulate environments where ears fail"
    ]
  },

  "advanced": { "random_seed": 12345, "num_workers": 8 },
  "audio_parameters": { "sample_rate": 22050, "target_duration_sec": 4.0 },
  "class_proportions": { "drone": 0.5, "no_drone": 0.5 },

  "distance": { "ref_m": 1.0, "alpha": 1.0 },

  "hardware_profiles": {
    "ICS-40730": { "tilt_db_per_octave": -3.5, "hf_rolloff_hz": 9000, "snr_floor_db": 48.0, "bit_depth": 16, "glitch_rate": 0.0003 },
    "TLV320ADC6140": { "tilt_db_per_octave": -6.0, "hf_rolloff_hz": 6000, "snr_floor_db": 46.0, "bit_depth": 12, "glitch_rate": 0.0002 }
  },

  "augmentation_scenarios": [
    {
      "name": "ambient_simple",
      "proportion": 0.10,
      "description": "Quiet rural / low-complexity ambient backgrounds",
      "ambients": [10, 20, 50]
    },
    {
      "name": "ambient_urban",
      "proportion": 0.08,
      "description": "Steady urban ambients with traffic and distant human activity",
      "ambients": [10, 20, 50, 100]
    },
    {
      "name": "ambient_complex",
      "proportion": 0.07,
      "description": "Complex ambients: construction, sirens, dense traffic, machinery",
      "ambients": [10, 20, 50, 100]
    },
    {
      "name": "ambient_transient",
      "proportion": 0.05,
      "description": "Transient-dominated ambients: wind, rain, passing horns, intermittent events",
      "ambients": [5, 10, 20, 50]
    },

    {
      "name": "close_clean",
      "proportion": 0.0913043478,
      "description": "Single drone very close (5m), mild MEMS/ADC chain, variety of ambients",
      "drones": [5],
      "ambients": [10, 20],
      "environment": {
        "modifiers": [
          { "name": "filters", "params": { "type": "low", "cutoff": [2000, 6000] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -3.5, "hf_rolloff_hz": 9000, "snr_floor_db": 48.0, "bit_depth": 16, "glitch_rate": 0.0002 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 25 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 0.5, "dropout_prob_per_s": 0.0005, "dropout_max_ms": 2, "bits": 16 } }
          ] } }
        ]
      }
    },

    {
      "name": "close_low_snr",
      "proportion": 0.0456521739,
      "description": "Close drone but ambient scaled to fixed low SNR (hard examples)",
      "drones": [5],
      "ambients": [10, 15, 20],
      "snr_db": -10,
      "environment": {
        "modifiers": [
          { "name": "doppler", "params": { "v_m_s": 5, "dir": 0 } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -4.0, "hf_rolloff_hz": 8000, "snr_floor_db": 50.0, "bit_depth": 16, "glitch_rate": 0.0005 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 20 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 1.0, "dropout_prob_per_s": 0.001, "dropout_max_ms": 5, "bits": 12 } }
          ] } }
        ]
      }
    },

    {
      "name": "near_multi_complex",
      "proportion": 0.1369565217,
      "description": "Multiple drones and ambients; pitch/time-stretch + doppler; realistic hardware chain",
      "drones": [5, 15, 30],
      "ambients": [10, 20, 40],
      "environment": {
        "trajectory": { "start_m": 50, "end_m": 5, "duration_s": 4.0 },
        "appear": { "fade_in_ms": 100, "fade_out_ms": 250 },
        "distance": { "ref_m": 1.0, "alpha": 1.0 },
        "modifiers": [
          { "name": "doppler", "params": { "v_m_s": 10, "dir": 1 } },
          { "name": "time_stretch", "params": { "rate": [0.9, 1.1] } },
          { "name": "pitch", "params": { "semitones": [-2, 2] } },
          { "name": "filters", "params": { "type": "band", "cutoff": [200, 6000] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -4.5, "hf_rolloff_hz": 8000, "snr_floor_db": 46.0, "bit_depth": 16, "glitch_rate": 0.0005 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 28 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 0.8, "dropout_prob_per_s": 0.0008, "dropout_max_ms": 4, "bits": 14 } },
            { "name": "occlusion", "params": { "cutoff_hz": 1500, "attenuation_db": -6, "event_prob": 0.2, "event_ms": 250 } }
          ] } }
        ]
      }
    },

    {
      "name": "midrange_varied",
      "proportion": 0.1065217391,
      "description": "Drones at mid distances (50–200m) with reverbs and mixed ambients",
      "drones": [50, 100, 150],
      "ambients": [20, 50, 100],
      "reverb": { "mode": "post", "type": "synthetic", "rt60_target": 0.8, "wet": 0.6, "dry": 0.4 },
      "environment": {
        "modifiers": [
          { "name": "filters", "params": { "type": "band", "cutoff": [200, 5000] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -5.0, "hf_rolloff_hz": 7000, "snr_floor_db": 48.0, "bit_depth": 14, "glitch_rate": 0.0003 } },
            { "name": "hardware_noise", "params": { "noise_type": "white", "snr_db": 30 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 0.4, "dropout_prob_per_s": 0.0006, "dropout_max_ms": 2, "bits": 14 } }
          ] } }
        ]
      }
    },

    {
      "name": "far_very_far",
      "proportion": 0.0760869565,
      "description": "Drones far away (200–500m), low energy; include some that are effectively indistinguishable to humans",
      "drones": [200, 350, 500],
      "ambients": [50, 100, 200],
      "environment": {
        "modifiers": [
          { "name": "filters", "params": { "type": "low", "cutoff": [1000, 3000] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -6.0, "hf_rolloff_hz": 6000, "snr_floor_db": 50.0, "bit_depth": 12, "glitch_rate": 0.0002 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 35 } }
          ] } }
        ]
      }
    },

    {
      "name": "flyby_long_trajectory",
      "proportion": 0.1217391304,
      "description": "Long-range flyby starting far (up to 500m) ending near with strong doppler and hardware chain",
      "drones": [500],
      "ambients": [50, 100],
      "environment": {
        "trajectory": { "start_m": 500, "end_m": 5, "duration_s": 4.0 },
        "appear": { "fade_in_ms": 50, "fade_out_ms": 200 },
        "distance": { "ref_m": 1.0, "alpha": 1.0 },
        "modifiers": [
          { "name": "doppler", "params": { "v_m_s": 20, "dir": 1 } },
          { "name": "pitch", "params": { "semitones": [-1, 1] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -4.0, "hf_rolloff_hz": 8000, "snr_floor_db": 46.0, "bit_depth": 16, "glitch_rate": 0.0004 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 28 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 0.6, "dropout_prob_per_s": 0.0008, "dropout_max_ms": 3, "bits": 14 } }
          ] } }
        ]
      }
    },

    {
      "name": "occlusion_heavy",
      "proportion": 0.0456521739,
      "description": "Occlusion events (buildings, foliage) that attenuate and lowpass the signal",
      "drones": [10, 30],
      "ambients": [10, 20],
      "environment": {
        "modifiers": [
          { "name": "occlusion", "params": { "cutoff_hz": 1200, "attenuation_db": -12, "event_prob": 0.6, "event_ms": 300 } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -5.0, "hf_rolloff_hz": 7000, "snr_floor_db": 48.0, "bit_depth": 14, "glitch_rate": 0.0003 } },
            { "name": "hardware_noise", "params": { "noise_type": "white", "snr_db": 32 } }
          ] } }
        ]
      }
    },

    {
      "name": "urban_heavy_noise",
      "proportion": 0.0760869565,
      "description": "Urban scenes with strong ambient sources; includes some drone and many no-drone samples",
      "drones": [20, 50],
      "ambients": [10, 20, 50],
      "environment": {
        "modifiers": [
          { "name": "filters", "params": { "type": "band", "cutoff": [300, 6000] } },
          { "name": "hardware_wrapper", "params": { "chain": [
            { "name": "mems", "params": { "tilt_db_per_octave": -4.5, "hf_rolloff_hz": 7000, "snr_floor_db": 46.0, "bit_depth": 14, "glitch_rate": 0.0004 } },
            { "name": "hardware_noise", "params": { "noise_type": "pink", "snr_db": 22 } },
            { "name": "adc_artifacts", "params": { "max_jitter_ms": 0.7, "dropout_prob_per_s": 0.0009, "dropout_max_ms": 4, "bits": 12 } }
          ] } }
        ]
      }
    }
  ],

  "output": {
    "total_samples": 30000,
    "split_ratio": [0.7, 0.15, 0.15],
    "info_filename": "augmentation_samples.jsonl"
  }
}
